var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){if(4==this.readyState)if(document.getElementById("id_loader").style.display="none",200==this.status){var e=this.responseText;try{console.log("res"),console.log(e);var t=JSON.parse(e),n=t.connected_ssid,d=t.connected_ssid_strength;if(n==t.wifi_config_1.ssid){var o=document.getElementById("id_conn1");o.style.color="green",o.innerHTML=o.innerHTML+" ("+d+"%) "}if(document.getElementById("id_version").innerHTML=t.version,document.getElementById("id_device").innerHTML=t.id_device,document.getElementById("id_ap_ssid").value=t.ap_config.ssid,document.getElementById("id_ap_password").value=t.ap_config.password,document.getElementById("id_wifi_ssid_1").value=t.wifi_config_1.ssid,document.getElementById("id_wifi_password_1").value=t.wifi_config_1.password,document.getElementById("id_text_name_device").value=t.name_device,document.getElementById("id_text_pin_device").value=t.pin_device,t.hasOwnProperty("input_type")){var c=t.input_type;"switch"==c?document.getElementById("id_ip_sel_switch").checked=!0:"pushbutton"==c?document.getElementById("id_ip_sel_pushbtn").checked=!0:document.getElementById("id_ip_sel_switch").checked=!0}else document.getElementById("id_ip_sel_switch").checked=!0;var s=t.blocked_topic;if(s.length>0){var _="";for(i=0;i<s.length;i++)id_topic=s[i],""!=id_topic&&"#"!=id_topic&&null!=id_topic&&(_+="<input type='checkbox' name='sel_blocked_topic' value='"+id_topic+"'>"+id_topic+"<br>");document.getElementById("id_blocked_topic_container").innerHTML+=_}else document.getElementById("id_blocked_topic_container").innerHTML="No Topics",document.getElementById("id_remove_blocked_topic").style.display="none";var l=t.sub_topic;if(l.length>0){_="";for(document.getElementsByClassName("C_topic_wrapper")[0].style.display="block",i=0;i<l.length;i++)id_topic=l[i][0],""!=id_topic&&id_topic!=t.id_device&&"#"!=id_topic&&null!=id_topic&&(_+="<input type='checkbox' name='sel_topic' value='"+id_topic+"'>"+l[i][1]+"/"+l[i][2]+"<br>");document.getElementById("id_topics").innerHTML+=_}else document.getElementById("id_topics").innerHTML="No homes",document.getElementById("id_remove_topic").style.display="none"}catch(e){console.log(e)}}else console.log(this.status),console.log(this.statusText)},xhttp.open("GET","/load_config",!0),xhttp.setRequestHeader("Content-type","application/json; charset=utf-8"),xhttp.send();